# 📋 요구사항 관리 (Requirements Management)

> 이 파일은 개발 중인 요구사항을 임시로 관리하는 파일입니다.
> 완료된 요구사항은 CLAUDE.md에 반영 후 이 파일에서 삭제됩니다.

## 📌 현재 요구사항 (Current Requirements)

### 🔥 높은 우선순위 (High Priority)
<!-- 긴급하게 처리해야 할 요구사항들 -->

#### 🚀 서버리스 백엔드 구축 (Serverless Backend Development)
기획서.md 3단계 - OCI 서버리스 환경 구축

**1. OCI Functions 서버리스 함수 개발**
- [x] Python 기반 사진 업로드 API 함수 구현 ✅ 완료
- [x] EXIF 메타데이터 처리 함수 구현 ✅ 완료 (프론트엔드 우선 처리)
- [ ] 사진 목록 조회 API 함수 구현

**참고:** 썸네일 생성은 프론트엔드에서 처리하므로 별도 함수 불필요

**2. API Gateway 설정**
- [x] RESTful API 엔드포인트 구성 ✅ 완료
- [x] CORS 설정 (프론트엔드 연동) ✅ 완료
- [x] 요청/응답 스키마 정의 ✅ 완료
- [x] 에러 핸들링 및 상태 코드 표준화 ✅ 완료

**3. OCI Object Storage 연동** ✅ 완료
- [x] OCI SDK 설치 및 인증 구성 ✅ 완료
- [x] 버킷 생성 및 권한 설정 ✅ 완료
- [x] 스토리지 서비스 추상화 (로컬/OCI 통합 인터페이스) ✅ 완료
- [x] 사진 파일 업로드 로직 구현 ✅ 완료
- [x] 썸네일 저장 구조 설계 ✅ 완료
- [x] 공개 URL 생성 시스템 ✅ 완료 (ObjectReadWithoutList)
- [x] 점진적 마이그레이션 (로컬 → OCI) 전략 구현 ✅ 완료

**통합 계획:**
- 환경변수로 스토리지 타입 선택 (LOCAL/OCI)
- OCI 구조: `photos/{photo_id}.{ext}`, `thumbnails/{size}/{photo_id}_{size}.{ext}`
- 로컬과 OCI 동시 지원하는 추상화 레이어 구현

**4. 데이터베이스 연동 (OCI NoSQL DB)**
- [ ] 스키마 설계 (사진 메타데이터, 위치정보, 텍스트)
- [ ] CRUD API 구현
- [ ] 인덱싱 및 쿼리 최적화
- [ ] 데이터 백업 및 복구 전략

#### 🔥 다음 우선 작업 (Next Priority Tasks)

**1. 보안 강화**
- [ ] OCI Object Storage 리퍼러 제한 설정 (특정 도메인에서만 접근)
- [ ] API 엔드포인트 인증 토큰 구현
- [ ] Pre-signed URL 기반 임시 접근 링크 생성

**2. 사진 목록 조회 API**
- [ ] OCI NoSQL DB 기반 사진 메타데이터 저장
- [ ] 날짜/위치 기반 사진 목록 조회 API
- [ ] 페이지네이션 및 필터링 기능
- [ ] 프론트엔드와 백엔드 사진 목록 동기화

**3. 실제 서버리스 배포**
- [ ] OCI Functions으로 업로드 API 배포
- [ ] API Gateway 설정 및 도메인 연결
- [ ] 환경변수 관리 (개발/운영 분리)
- [ ] HTTPS 인증서 설정

### 📋 보통 우선순위 (Medium Priority)
<!-- 일반적인 기능 개선 및 추가 요구사항들 -->

#### 🔐 보안 및 사용자 인증 (Security & Authentication)
기획서.md 5단계 - 사용자 인증 및 보안 강화

**1. 사용자 인증 시스템**
- [ ] OCI IAM 연동 구현
- [ ] OAuth 로그인 (Google, 카카오 등) 지원
- [ ] JWT 토큰 기반 세션 관리
- [ ] 사용자 프로필 관리 API

**2. 개인정보 보호**
- [ ] 위치정보 수집 동의 시스템
- [ ] GDPR/개인정보보호법 준수
- [ ] 데이터 삭제 및 다운로드 기능
- [ ] 개인정보 처리방침 페이지

#### 🔧 프론트엔드-백엔드 연동 (Frontend-Backend Integration)
현재 로컬 상태관리를 서버 연동으로 전환

**1. API 클라이언트 구현**
- [x] HTTP 클라이언트 라이브러리 설정 (axios/fetch) ✅ 완료
- [x] API 엔드포인트 상수 관리 ✅ 완료
- [x] 요청/응답 타입 정의 ✅ 완료
- [x] 에러 처리 및 재시도 로직 ✅ 완료

**2. 상태 관리 개선**
- [x] 서버 상태와 로컬 상태 분리 ✅ 완료
- [x] 로딩 상태 및 에러 상태 관리 ✅ 완료
- [ ] 캐싱 전략 구현
- [ ] 오프라인 지원 검토

#### 🖼️ 썸네일 생성 최적화 (Thumbnail Generation) ✅ 완료
프론트엔드 우선 처리로 중복 제거 및 성능 최적화

**1. 프론트엔드 썸네일 생성 (주요)**
- [x] Canvas API 기반 썸네일 생성 엔진 구현 ✅ 완료
- [x] 다중 크기 썸네일 자동 생성 (small/medium/large) ✅ 완료
- [x] EXIF 회전 정보 자동 처리 ✅ 완료
- [x] 이미지 품질 최적화 및 용량 압축 ✅ 완료

**2. 백엔드 Fallback 지원**
- [x] PIL (Pillow) 기반 fallback 엔진 구현 ✅ 완료
- [x] 프론트엔드 실패 시 백엔드 대체 처리 ✅ 완료

**3. 통합 데이터 구조**
- [x] 통합 썸네일 타입 정의 (UnifiedPhotoData) ✅ 완료
- [x] 로컬/서버 썸네일 URL 지원 ✅ 완료
- [x] 맵뷰 썸네일 표시 호환성 ✅ 완료

### 💡 낮은 우선순위 (Low Priority)
<!-- 나중에 고려해볼 수 있는 요구사항들 -->

#### 🚢 배포 및 운영 (Deployment & Operations)
기획서.md 6단계 - 테스트, 배포, 운영 자동화

**1. CI/CD 파이프라인**
- [ ] GitHub Actions 워크플로 구성
- [ ] 자동 테스트 실행 (단위/통합 테스트)
- [ ] 빌드 및 배포 자동화
- [ ] 환경별 배포 전략 (dev/staging/prod)

**2. 모니터링 및 로깅**
- [ ] 애플리케이션 로그 수집 시스템
- [ ] 성능 모니터링 (응답시간, 처리량)
- [ ] 에러 추적 및 알림
- [ ] 사용자 행동 분석

#### ⚡ 성능 최적화 (Performance Optimization)
대용량 사진 처리 및 사용자 경험 개선

**1. 이미지 처리 최적화**
- [ ] WebP 형식 변환 지원
- [ ] 점진적 이미지 로딩 (Progressive JPEG)
- [ ] CDN 연동으로 전 세계 빠른 접근
- [ ] 이미지 lazy loading 고도화

**2. 캐싱 전략**
- [ ] 브라우저 캐시 최적화
- [ ] 서버측 캐시 레이어 구현
- [ ] API 응답 캐싱
- [ ] 정적 자산 캐싱

---
**사용법:**
1. 새로운 요구사항을 해당 우선순위 섹션에 추가
2. 요구사항 구현 완료 시 해당 항목 삭제
3. Claude가 완료된 내용을 CLAUDE.md에 반영